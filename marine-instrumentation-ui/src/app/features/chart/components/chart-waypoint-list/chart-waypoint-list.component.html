<div class="waypoint-panel">
  <div class="panel-title">{{ 'chart.waypoints.title' | translate }}</div>
  <div class="waypoint-list" *ngIf="vm.waypoints.length > 0; else emptyWaypoints">
    <div
      class="waypoint-item"
      *ngFor="let waypoint of vm.waypoints"
      [class.active]="vm.activeId === waypoint.id"
    >
      <button class="waypoint-select" type="button" (click)="onSelect(waypoint.id)">
        {{ (vm.activeId === waypoint.id ? 'chart.waypoints.active' : 'chart.waypoints.select') | translate }}
      </button>
      <div class="waypoint-info">
        <input
          class="waypoint-name"
          type="text"
          [value]="waypoint.name"
          (blur)="onRename(waypoint.id, $event)"
          (keydown.enter)="onRename(waypoint.id, $event)"
        />
        <span class="waypoint-meta">{{ waypoint.positionLabel }}</span>
      </div>
      <button class="waypoint-delete" type="button" (click)="onDelete(waypoint.id)">
        {{ 'chart.waypoints.delete' | translate }}
      </button>
    </div>
  </div>
  <ng-template #emptyWaypoints>
    <div class="waypoint-empty">{{ 'chart.waypoints.empty' | translate }}</div>
  </ng-template>

  <button class="waypoint-clear" *ngIf="vm.activeId" (click)="onClearActive()">
    {{ 'chart.waypoints.clear_active' | translate }}
  </button>
</div>
