import{a as Oe}from"./chunk-62D2QY2C.js";import{c as L,d as D,f as x,g as T,o as Se}from"./chunk-WXA46ZAL.js";import{a as Me}from"./chunk-M73UJ2M4.js";import{a as Pe}from"./chunk-ZM7VQPQC.js";import{a as ue}from"./chunk-NV5BHWM3.js";import{b as U}from"./chunk-IOWFGKQA.js";import{b as ve,d as V,i as N,k as _e,r as he,s as be,v as F}from"./chunk-GIRLNUDQ.js";import{b as ye}from"./chunk-7L4EOTHW.js";import"./chunk-224KP37M.js";import{a as fe,e as xe,n as Ce}from"./chunk-MQVH6ZV5.js";import{a as we}from"./chunk-OR3LRC23.js";import{Bb as p,Cb as ne,Cc as z,Db as j,Fb as ie,Gb as ae,Hb as re,Ja as X,Jb as oe,Jc as pe,Ka as s,Kb as A,Lc as ge,Mb as se,Mc as y,Nb as o,Ob as k,Pb as f,Sa as Z,Ta as C,Tb as le,Ub as ce,Vb as de,Ya as w,a as Y,aa as R,bb as b,bc as E,cc as G,dc as me,fa as u,ga as v,ha as S,hb as I,ia as W,ib as P,jb as O,ka as q,lb as ee,mb as te,na as J,nb as d,ob as n,pb as i,q as K,qb as g,ra as h,xb as _,zb as m}from"./chunk-V4EMFQCR.js";import{a as Q}from"./chunk-EQDQRRRY.js";function Ne(r,t){if(r&1&&(n(0,"div",16),o(1," \u26F5 "),i()),r&2){let e=p();oe("transform","translate(0, -"+e.currentDistance/e.radius*40+"px)")}}function Fe(r,t){if(r&1){let e=_();n(0,"div",17)(1,"app-slider",18),de("ngModelChange",function(l){u(e);let c=p();return ce(c.radius,l)||(c.radius=l),v(l)}),m("ngModelChange",function(l){u(e);let c=p();return v(c.onRadiusChange(l))}),i()()}if(r&2){let e=p();s(),d("min",10)("max",200)("step",5),le("ngModel",e.radius)}}function Be(r,t){if(r&1){let e=_();n(0,"app-button",19),m("click",function(){u(e);let l=p();return v(l.dropAnchor())}),o(1," DROP ANCHOR "),i()}}function He(r,t){if(r&1){let e=_();n(0,"app-button",20),m("click",function(){u(e);let l=p();return v(l.raiseAnchor())}),o(1," RAISE ANCHOR "),i()}}var B=class r{constructor(t,e){this.alarmStore=t;this.datapointStore=e}radiusMin=10;radiusMax=500;radiusStep=5;radius=40;currentDistance=0;isSet=!1;anchorSetAt=null;anchorPosition=null;currentPosition=null;sub=new Y;ngOnInit(){this.sub.add(this.alarmStore.alarms$.subscribe(t=>{let e=t.find(a=>a.type==="anchor-watch");e&&e.data&&e.state!=="cleared"&&e.state!=="inactive"&&(this.isSet=!0,this.anchorPosition=e.data.anchorPosition,this.radius=e.data.radius||40,this.anchorSetAt=e.data.setAt??e.timestamp,this.updateDistance())})),this.sub.add(this.datapointStore.observe(fe.navigation.position).subscribe(t=>{t?.value&&(this.currentPosition={lat:t.value.latitude,lon:t.value.longitude},this.updateDistance())}))}ngOnDestroy(){this.sub.unsubscribe()}dropAnchor(){this.setAnchorHere()}setAnchorHere(){this.currentPosition&&(this.anchorPosition=Q({},this.currentPosition),this.isSet=!0,this.anchorSetAt=Date.now(),this.updateDistance(),this.updateAlarmState())}raiseAnchor(){this.isSet=!1,this.anchorPosition=null,this.anchorSetAt=null,this.currentDistance=0,this.alarmStore.clearAlarm("anchor-watch")}onRadiusChange(t){this.radius=this.clampRadius(t),this.isSet&&this.updateAlarmState()}updateDistance(){this.anchorPosition&&this.currentPosition&&(this.currentDistance=xe(this.anchorPosition,this.currentPosition))}updateAlarmState(){this.anchorPosition&&this.alarmStore.triggerAlarm("anchor-watch","anchor-watch",this.currentDistance>this.radius?"critical":"warning",this.currentDistance>this.radius?"ANCHOR DRAG DETECTED":"Anchor Watch Active",{anchorPosition:this.anchorPosition,radius:this.radius,currentDistance:this.currentDistance,setAt:this.anchorSetAt??Date.now()})}clampRadius(t){return Number.isFinite(t)?Math.min(this.radiusMax,Math.max(this.radiusMin,t)):this.radius}static \u0275fac=function(e){return new(e||r)(C(ue),C(Ce))};static \u0275cmp=w({type:r,selectors:[["app-anchor-watch"]],decls:33,vars:16,consts:[[1,"anchor-watch-card"],[1,"card-header"],[1,"status-badge"],[1,"visualizer"],[1,"radar-scope"],[1,"anchor-center"],["class","vessel-dot",3,"transform",4,"ngIf"],[1,"radius-circle"],[1,"metrics"],[1,"metric"],[1,"value"],[1,"controls"],["class","slider-container",4,"ngIf"],[1,"actions"],["variant","primary","class","full-width",3,"click",4,"ngIf"],["variant","outline","class","full-width",3,"click",4,"ngIf"],[1,"vessel-dot"],[1,"slider-container"],[3,"ngModelChange","min","max","step","ngModel"],["variant","primary",1,"full-width",3,"click"],["variant","outline",1,"full-width",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),o(3,"ANCHOR WATCH"),i(),n(4,"div",2),o(5),i()(),n(6,"div",3)(7,"div",4)(8,"div",5),o(9,"\u2693"),i(),b(10,Ne,2,2,"div",6),g(11,"div",7),i()(),n(12,"div",8)(13,"div",9)(14,"label"),o(15,"DISTANCE"),i(),n(16,"div",10),o(17),E(18,"number"),n(19,"small"),o(20,"m"),i()()(),n(21,"div",9)(22,"label"),o(23,"RADIUS"),i(),n(24,"div",10),o(25),n(26,"small"),o(27,"m"),i()()()(),n(28,"div",11),b(29,Fe,2,4,"div",12),n(30,"div",13),b(31,Be,2,0,"app-button",14)(32,He,2,0,"app-button",15),i()()()),e&2&&(s(4),A("active",a.isSet)("alert",a.currentDistance>a.radius),s(),f(" ",a.isSet?a.currentDistance>a.radius?"ALARM":"ACTIVE":"OFF"," "),s(2),A("active",a.isSet),s(3),d("ngIf",a.isSet),s(7),f("",me(18,13,a.currentDistance,"1.0-1")," "),s(8),f("",a.radius," "),s(4),d("ngIf",a.isSet||!a.isSet),s(2),d("ngIf",!a.isSet),s(),d("ngIf",a.isSet))},dependencies:[y,z,F,V,N,Pe,Oe,ge],styles:["[_nghost-%COMP%]{display:block;width:100%}.anchor-watch-card[_ngcontent-%COMP%]{background:var(--panel-bg, var(--gb-bg-bezel));border:1px solid var(--panel-border, var(--border));border-radius:var(--radius, 12px);padding:16px;display:flex;flex-direction:column;gap:16px;box-shadow:var(--shadow)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:var(--gb-text-muted);font-weight:700;letter-spacing:.08em;text-transform:uppercase}.status-badge[_ngcontent-%COMP%]{background:var(--gb-bg-panel);color:var(--gb-text-muted);padding:4px 10px;border-radius:999px;font-size:.65rem;font-weight:800;letter-spacing:.08em;text-transform:uppercase}.status-badge.active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--success) 20%,transparent);color:var(--success)}.status-badge.alert[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--danger) 22%,transparent);color:var(--danger);animation:_ngcontent-%COMP%_pulse-red 1s infinite}.visualizer[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:12px 0}.radar-scope[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:2px dashed color-mix(in srgb,var(--panel-border) 60%,transparent);position:relative;display:flex;align-items:center;justify-content:center;background:color-mix(in srgb,var(--gb-bg-panel) 70%,transparent)}.radar-scope.active[_ngcontent-%COMP%]{border-color:color-mix(in srgb,var(--success) 60%,var(--panel-border));background:radial-gradient(circle,color-mix(in srgb,var(--success) 14%,transparent) 0%,transparent 70%)}.radar-scope[_ngcontent-%COMP%]   .anchor-center[_ngcontent-%COMP%]{font-size:1.4rem;z-index:2}.radar-scope[_ngcontent-%COMP%]   .vessel-dot[_ngcontent-%COMP%]{position:absolute;font-size:1.1rem;z-index:3;transition:transform .5s ease-out}.metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{background:var(--gb-bg-panel);padding:12px;border-radius:10px;text-align:center;border:1px solid var(--panel-border)}.metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.65rem;color:var(--gb-text-muted);display:block;margin-bottom:4px;letter-spacing:.08em;text-transform:uppercase}.metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700;font-family:var(--font-technical, monospace);color:var(--gb-text-value)}.full-width[_ngcontent-%COMP%]{width:100%;display:block}@keyframes _ngcontent-%COMP%_pulse-red{0%{box-shadow:0 0 #ef444459}70%{box-shadow:0 0 0 8px #ef444400}to{box-shadow:0 0 #ef444400}}"]})};var Re=["modalContent"],We=["*",[["","modal-footer",""]]],je=["*","[modal-footer]"];function Ge(r,t){if(r&1){let e=_();n(0,"header",7)(1,"h2",8),o(2),i(),n(3,"button",9),m("click",function(){u(e);let l=p(2);return v(l.close.emit())}),g(4,"app-icon",10),i()()}if(r&2){let e=p(2);s(),d("id",e.titleId),s(),k(e.title),s(2),d("size",24)}}function Le(r,t){r&1&&(n(0,"footer",11),j(1,1),i())}function Ue(r,t){if(r&1){let e=_();n(0,"div",2),m("click",function(l){u(e);let c=p();return v(c.onBackdropClick(l))}),n(1,"div",3,0),b(3,Ge,5,3,"header",4),n(4,"div",5),j(5),i(),b(6,Le,2,0,"footer",6),i()()}if(r&2){let e=p();d("@fadeIn",void 0),s(),se(e.sizeClass),d("@slideUp",void 0),I("aria-modal",!0)("aria-labelledby",e.titleId),s(2),d("ngIf",e.showHeader),s(3),d("ngIf",e.showFooter)}}var H=class r{constructor(t,e){this.document=t;this.renderer=e}_isOpen=h(!1);_title=h("");_size=h("md");_showHeader=h(!0);_showFooter=h(!0);_closeOnBackdrop=h(!0);_closeOnEscape=h(!0);set isOpen(t){this._isOpen.set(t),this.toggleBodyScroll(t),t&&setTimeout(()=>this.modalContent?.nativeElement?.focus(),50)}set title(t){this._title.set(t)}set size(t){this._size.set(t)}set showHeader(t){this._showHeader.set(t)}set showFooter(t){this._showFooter.set(t)}set closeOnBackdrop(t){this._closeOnBackdrop.set(t)}set closeOnEscape(t){this._closeOnEscape.set(t)}close=new J;modalContent;titleIdValue=`modal-title-${Math.random().toString(36).substr(2,9)}`;get isOpen(){return this._isOpen()}get title(){return this._title()}get showHeader(){return this._showHeader()}get showFooter(){return this._showFooter()}get sizeClass(){return`modal-${this._size()}`}get titleId(){return this.titleIdValue}onEscape(t){this._isOpen()&&this._closeOnEscape()&&this.close.emit()}onBackdropClick(t){this._closeOnBackdrop()&&t.target===t.currentTarget&&this.close.emit()}toggleBodyScroll(t){let e=this.document.body;t?this.renderer.addClass(e,"modal-open"):this.renderer.removeClass(e,"modal-open")}ngOnDestroy(){this.toggleBodyScroll(!1)}static \u0275fac=function(e){return new(e||r)(C(q),C(Z))};static \u0275cmp=w({type:r,selectors:[["app-modal"]],viewQuery:function(e,a){if(e&1&&ie(Re,5),e&2){let l;ae(l=re())&&(a.modalContent=l.first)}},hostBindings:function(e,a){e&1&&m("keydown.escape",function(c){return a.onEscape(c)},X)},inputs:{isOpen:"isOpen",title:"title",size:"size",showHeader:"showHeader",showFooter:"showFooter",closeOnBackdrop:"closeOnBackdrop",closeOnEscape:"closeOnEscape"},outputs:{close:"close"},ngContentSelectors:je,decls:1,vars:1,consts:[["modalContent",""],["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],["role","dialog","tabindex","-1",1,"modal-content"],["class","modal-header",4,"ngIf"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-header"],[3,"id"],["aria-label","Close dialog","type","button",1,"close-btn",3,"click"],["name","x",3,"size"],[1,"modal-footer"]],template:function(e,a){e&1&&(ne(We),b(0,Ue,7,8,"div",1)),e&2&&d("ngIf",a.isOpen)},dependencies:[y,z,we],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:var(--overlay-backdrop);-webkit-backdrop-filter:var(--overlay-blur);backdrop-filter:var(--overlay-blur);z-index:5000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-content[_ngcontent-%COMP%]{background-color:var(--gb-bg-panel);border:1px solid var(--border-default);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);display:flex;flex-direction:column;max-height:90vh;width:100%;color:var(--gb-text-value);position:relative;outline:none}.modal-sm[_ngcontent-%COMP%]{max-width:320px}.modal-md[_ngcontent-%COMP%]{max-width:480px}.modal-lg[_ngcontent-%COMP%]{max-width:640px}.modal-fullscreen[_ngcontent-%COMP%]{max-width:100vw;height:100vh;border-radius:0;border:none}.modal-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid var(--border-subtle);display:flex;justify-content:space-between;align-items:center;flex-shrink:0;background-color:var(--bg-surface-secondary)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;font-family:var(--font-heading)}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--gb-text-muted);cursor:pointer;padding:4px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{color:var(--gb-text-value);background-color:var(--bg-hover)}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex-grow:1}.modal-footer[_ngcontent-%COMP%]{padding:1.25rem;border-top:1px solid var(--border-subtle);background-color:var(--bg-surface-secondary);border-bottom-left-radius:var(--radius-lg);border-bottom-right-radius:var(--radius-lg);display:flex;justify-content:flex-end;gap:.75rem;flex-shrink:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}@media(max-width:640px){.modal-content[_ngcontent-%COMP%]{max-height:100dvh}}"],data:{animation:[L("fadeIn",[T(":enter",[x({opacity:0}),D("200ms ease-out",x({opacity:1}))]),T(":leave",[D("150ms ease-in",x({opacity:0}))])]),L("slideUp",[T(":enter",[x({transform:"translateY(20px)",opacity:0}),D("250ms cubic-bezier(0.16, 1, 0.3, 1)",x({transform:"translateY(0)",opacity:1}))]),T(":leave",[D("150ms ease-in",x({transform:"translateY(10px)",opacity:0}))])])]},changeDetection:0})};var $e=(r,t)=>t.id;function Qe(r,t){r&1&&(S(),n(0,"svg",27),g(1,"path",33)(2,"line",34)(3,"line",35),i())}function Ye(r,t){r&1&&(S(),n(0,"svg",27),g(1,"circle",36)(2,"line",37)(3,"line",38),i())}function Ke(r,t){r&1&&o(0," \xB7 Acknowledged ")}function qe(r,t){if(r&1){let e=_();n(0,"button",39),m("click",function(){u(e);let l=p().$implicit,c=p(2);return v(c.onAcknowledge(l.id))}),o(1,"ACK"),i()}}function Je(r,t){if(r&1&&(n(0,"div",25)(1,"div",26),P(2,Qe,4,0,":svg:svg",27)(3,Ye,4,0,":svg:svg",27),i(),n(4,"div",28)(5,"div",29),o(6),i(),n(7,"div",30),o(8),E(9,"uppercase"),P(10,Ke,1,0),i()(),n(11,"div",31),P(12,qe,2,0,"button",32),i()()),r&2){let e=t.$implicit;I("data-severity",e.severity)("data-state",e.acknowledged?"acknowledged":"active"),s(2),O(e.severity==="critical"||e.severity==="emergency"?2:3),s(4),k(e.message),s(2),f(" ",G(9,7,e.severity)," "),s(2),O(e.acknowledged?10:-1),s(2),O(e.acknowledged?-1:12)}}function Xe(r,t){if(r&1&&(n(0,"div",8),ee(1,Je,13,9,"div",25,$e),i()),r&2){let e=p();s(),te(e.vm().alarms)}}function Ze(r,t){r&1&&(n(0,"div",9),S(),n(1,"svg",40),g(2,"path",41)(3,"polyline",42),i(),W(),n(4,"h3"),o(5,"All Clear"),i(),n(6,"p"),o(7,"No active alarms or warnings"),i()())}var De=class r{facade=R(Se);settingsService=R(Me);showSettings=!1;vm=U(this.facade.activeAlarms$.pipe(K(t=>{let e=t.map(a=>{let l=a.severity==="critical"||a.severity==="emergency"?"critical":"warning";return{id:a.id,acknowledged:a.state!=="active",severity:l,message:a.message,threshold:a.data?.threshold??null,severityClass:l==="critical"?"alarm-critical":"alarm-warning"}});return{hasActiveAlarm:e.length>0,alarms:e}})));settings=U(this.settingsService.settings$,{initialValue:this.settingsService.snapshot});onAcknowledge(t){t&&this.facade.acknowledgeAlarm(t)}updateSetting(t,e,a,l,c){let M=Number(e);if(!Number.isFinite(M))return;let $=Math.min(l,Math.max(a,M)),Te=c>=0?Number($.toFixed(c)):$;this.settingsService.update({[t]:Te})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=w({type:r,selectors:[["app-alarms-page"]],decls:72,vars:14,consts:[[1,"alarms-page"],[1,"alarms-toolbar"],[1,"toolbar-spacer"],[1,"alarms-toolbar__status"],[1,"alarms-toolbar__btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"alarms-list"],[1,"alarms-empty"],["title","Alarm Configuration","size","lg",3,"close","isOpen","showFooter"],[1,"settings-section-title"],[1,"settings-grid"],[1,"settings-group"],[1,"settings-group__title"],[1,"settings-row"],[1,"settings-row__label"],[1,"settings-row__desc"],[1,"settings-row__control"],["type","number","min","0.5","max","50","step","0.1",3,"ngModelChange","ngModel"],["type","number","min","9","max","14","step","0.1",3,"ngModelChange","ngModel"],["type","number","min","0.1","max","5","step","0.1",3,"ngModelChange","ngModel"],["type","number","min","1","max","60","step","1",3,"ngModelChange","ngModel"],["type","number","min","5","max","180","step","1",3,"ngModelChange","ngModel"],[1,"settings-anchor"],[1,"alarm-row"],[1,"alarm-row__severity-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"alarm-row__body"],[1,"alarm-name"],[1,"alarm-meta"],[1,"alarm-row__actions"],[1,"alarm-row__ack-btn"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"alarm-row__ack-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","aria-hidden","true"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"]],template:function(e,a){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),o(3),E(4,"translate"),i(),g(5,"span",2),n(6,"span",3),o(7),i(),n(8,"button",4),m("click",function(){return a.showSettings=!0}),S(),n(9,"svg",5),g(10,"circle",6)(11,"path",7),i(),o(12," Config "),i()(),P(13,Xe,3,0,"div",8)(14,Ze,8,0,"div",9),W(),n(15,"app-modal",10),m("close",function(){return a.showSettings=!1}),n(16,"div",11),o(17,"ALARM THRESHOLDS"),i(),n(18,"div",12)(19,"div",13)(20,"div",14),o(21,"Shallow Water"),i(),n(22,"div",15)(23,"div")(24,"div",16),o(25,"Threshold"),i(),n(26,"div",17),o(27,"Alarm below this depth (m)"),i()(),n(28,"div",18)(29,"input",19),m("ngModelChange",function(c){return a.updateSetting("shallowDepthThreshold",c,.5,50,1)}),i()()()(),n(30,"div",13)(31,"div",14),o(32,"Battery Low"),i(),n(33,"div",15)(34,"div")(35,"div",16),o(36,"Threshold"),i(),n(37,"div",17),o(38,"Alarm below this voltage (V)"),i()(),n(39,"div",18)(40,"input",20),m("ngModelChange",function(c){return a.updateSetting("lowBatteryThreshold",c,9,14,1)}),i()()()(),n(41,"div",13)(42,"div",14),o(43,"CPA Warning"),i(),n(44,"div",15)(45,"div")(46,"div",16),o(47,"Distance (NM)"),i(),n(48,"div",17),o(49,"Closest point of approach"),i()(),n(50,"div",18)(51,"input",21),m("ngModelChange",function(c){return a.updateSetting("cpaThresholdNm",c,.1,5,2)}),i()()(),n(52,"div",15)(53,"div")(54,"div",16),o(55,"TCPA (min)"),i(),n(56,"div",17),o(57,"Time to closest point of approach"),i()(),n(58,"div",18)(59,"input",22),m("ngModelChange",function(c){return a.updateSetting("cpaTcpaMinutes",c,1,60,0)}),i()()()(),n(60,"div",13)(61,"div",14),o(62,"GPS Lost"),i(),n(63,"div",15)(64,"div")(65,"div",16),o(66,"Timeout (s)"),i(),n(67,"div",17),o(68,"No GPS fix for this long"),i()(),n(69,"div",18)(70,"input",23),m("ngModelChange",function(c){return a.updateSetting("gpsLostSeconds",c,5,180,0)}),i()()()(),g(71,"app-anchor-watch",24),i()()()),e&2){let l,c,M;s(3),k(G(4,12,"alarms.page.title")),s(3),A("active",(l=a.vm())==null?null:l.hasActiveAlarm),s(),f(" ",(c=a.vm())!=null&&c.hasActiveAlarm?a.vm().alarms.length+" active":"All clear"," "),s(6),O((M=a.vm())!=null&&M.hasActiveAlarm?13:14),s(2),d("isOpen",a.showSettings)("showFooter",!1),s(14),d("ngModel",a.settings().shallowDepthThreshold),s(11),d("ngModel",a.settings().lowBatteryThreshold),s(11),d("ngModel",a.settings().cpaThresholdNm),s(8),d("ngModel",a.settings().cpaTcpaMinutes),s(11),d("ngModel",a.settings().gpsLostSeconds)}},dependencies:[y,F,ve,_e,V,be,he,N,B,H,pe,ye],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;height:100%;min-height:0}.alarms-page[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:var(--gb-bg-canvas)}.alarms-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3, 12px);padding:var(--space-3, 12px) var(--space-5, 24px);border-bottom:1px solid var(--gb-border-panel);background:var(--gb-bg-bezel);flex-shrink:0}.alarms-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:1rem;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--gb-text-muted);margin:0}.toolbar-spacer[_ngcontent-%COMP%]{flex:1}.alarms-toolbar__status[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.7rem;font-weight:600;color:var(--gb-text-muted);padding:4px 10px;border-radius:8px;background:var(--gb-bg-panel)}.alarms-toolbar__status.active[_ngcontent-%COMP%]{color:var(--gb-alarm-critical-border);background:var(--gb-alarm-critical-bg)}.alarms-toolbar__btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 14px;border:1px solid var(--gb-border-panel);border-radius:10px;background:var(--gb-bg-panel);color:var(--gb-text-muted);font-family:Space Grotesk,sans-serif;font-size:.7rem;font-weight:600;cursor:pointer;transition:all .15s ease}.alarms-toolbar__btn[_ngcontent-%COMP%]:hover{background:var(--gb-bg-glass-active, rgba(255, 255, 255, .04));color:var(--gb-text-value)}.alarms-toolbar__btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.alarms-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--space-3, 12px) var(--space-5, 24px);display:flex;flex-direction:column;gap:var(--space-2, 8px)}.alarm-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3, 12px);padding:var(--space-3, 12px) var(--space-4, 16px);border-radius:12px;border:1px solid;transition:border-color .3s ease,background .3s ease}.alarm-row[data-severity=emergency][_ngcontent-%COMP%]{background:var(--gb-alarm-emergency-bg);border-color:var(--gb-alarm-emergency-border);animation:_ngcontent-%COMP%_gb-alarm-beat .8s ease-in-out infinite}.alarm-row[data-severity=critical][_ngcontent-%COMP%]{background:var(--gb-alarm-critical-bg);border-color:var(--gb-alarm-critical-border)}.alarm-row[data-severity=warning][_ngcontent-%COMP%]{background:var(--gb-alarm-warning-bg);border-color:var(--gb-alarm-warning-border)}.alarm-row[data-state=resolved][_ngcontent-%COMP%]{opacity:.5;animation:none}@keyframes _ngcontent-%COMP%_gb-alarm-beat{0%,to{transform:scale(1)}50%{transform:scale(1.01)}}.alarm-row__severity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.alarm-row[data-severity=emergency][_ngcontent-%COMP%]   .alarm-row__severity-icon[_ngcontent-%COMP%], .alarm-row[data-severity=critical][_ngcontent-%COMP%]   .alarm-row__severity-icon[_ngcontent-%COMP%]{color:var(--gb-alarm-critical-border)}.alarm-row[data-severity=warning][_ngcontent-%COMP%]   .alarm-row__severity-icon[_ngcontent-%COMP%]{color:var(--gb-alarm-warning-border)}.alarm-row__body[_ngcontent-%COMP%]{flex:1;min-width:0}.alarm-name[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.875rem;font-weight:600;color:var(--gb-text-value)}.alarm-meta[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.65rem;color:var(--gb-text-muted);margin-top:4px}.alarm-row__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-2, 8px);flex-shrink:0}.alarm-row__ack-btn[_ngcontent-%COMP%]{padding:6px 16px;border:1px solid var(--gb-border-panel);border-radius:8px;background:var(--gb-bg-panel);color:var(--gb-text-value);font-family:Space Grotesk,sans-serif;font-size:.7rem;font-weight:700;letter-spacing:.08em;cursor:pointer;transition:all .15s ease}.alarm-row__ack-btn[_ngcontent-%COMP%]:hover{background:var(--gb-bg-glass-active, rgba(255, 255, 255, .06))}.alarms-empty[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-3, 12px)}.alarms-empty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--gb-text-muted);opacity:.5}.alarms-empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:1.125rem;font-weight:700;color:var(--gb-text-value);margin:0}.alarms-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:var(--gb-text-muted);margin:0}.settings-section-title[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:.18em;color:var(--gb-text-muted);margin-bottom:var(--space-4, 16px)}.settings-grid[_ngcontent-%COMP%]{display:grid;gap:var(--space-4, 16px);grid-template-columns:repeat(auto-fit,minmax(240px,1fr));align-items:start}.settings-group[_ngcontent-%COMP%]{background:var(--gb-bg-panel);border:1px solid var(--gb-border-panel);border-radius:14px;overflow:hidden}.settings-group__title[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:.18em;color:var(--gb-text-muted);padding:var(--space-3, 12px) var(--space-4, 16px);border-bottom:1px solid var(--gb-border-panel);background:var(--gb-bg-bezel)}.settings-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--space-3, 12px) var(--space-4, 16px);gap:var(--space-4, 16px);border-bottom:1px solid var(--gb-border-panel)}.settings-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.settings-row__label[_ngcontent-%COMP%]{font-family:Space Grotesk,sans-serif;font-size:.875rem;font-weight:500;color:var(--gb-text-value)}.settings-row__desc[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gb-text-muted);margin-top:2px}.settings-row__control[_ngcontent-%COMP%]{flex-shrink:0}.settings-row__control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px;background:var(--gb-bg-bezel);border:1px solid var(--gb-border-panel);border-radius:8px;padding:6px 8px;color:var(--gb-text-value);font-family:JetBrains Mono,monospace;font-size:.8rem;text-align:right}.settings-anchor[_ngcontent-%COMP%]{grid-column:1/-1}@media(max-width:640px){.alarms-toolbar[_ngcontent-%COMP%]{padding:var(--space-2, 8px) var(--space-3, 12px);flex-wrap:wrap}.alarms-list[_ngcontent-%COMP%]{padding:var(--space-2, 8px) var(--space-3, 12px)}}'],changeDetection:0})};export{De as AlarmsPage};
